<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"

      >

    <h:head>
	<title>login success</title>
    </h:head>
    <h:body>

	<center>
	    <h:form>
		<h:inputText id="search" value="#{ProductCatalogue.searchedString}" valueChangeListener="#{ProductCatalogue.searchedTextChanged}">
		    <f:ajax execute="search" render=":form:panel" event="blur"/>
		</h:inputText>               
	    </h:form>
	    <h:panelGrid width="375px" bgcolor="#e6edfd" columns="2" border="0">

		<f:facet name="header">
		    <h:outputText value="Welcome #{BeanController.firstName} #{BeanController.lastName}"/>
		</f:facet>

		<h:form id ="form">
		    <h:panelGroup id ="panel">
			<center>
                            <h:dataTable id="table" value="#{ProductCatalogue.productList}" var="p" >


				<h:column>
				    <f:facet name="header">Name</f:facet>
					#{p.productname}
				</h:column>

				<h:column>
				    <f:facet name="header">Unit</f:facet>
					#{p.quantityperunit}
				</h:column>


				<h:column>
				    <f:facet name="header">Price</f:facet>
					#{p.unitprice}
				</h:column>

				<h:column>
				    <h:commandButton value="Add" action="#{dummyCart.add(p)}">
				    </h:commandButton>
				</h:column>

			    </h:dataTable>
			</center>
		    </h:panelGroup>
		</h:form>
	    </h:panelGrid>

	</center>
    </h:body>
</html>